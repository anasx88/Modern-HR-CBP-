<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ูููุฌ ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงูุญุฏูุซุฉ CBP</title>

  <style>
    :root{
      /* Consultant-Grade Visual Spec v1.0 */
      --primary: #0F2A44;
      --secondary: #3A5F8A;
      --success: #2F7D5A;
      --alert: #B23A3A;

      --bg: #F7F9FC;
      --surface: #FFFFFF;
      --text: #1F2937;
      --muted: #6B7280;
      --border: #E5E7EB;

      --radius: 14px;
      --shadow: 0 10px 24px rgba(15,42,68,.08);
      --shadow2: 0 6px 14px rgba(15,42,68,.07);

      --maxw: 1200px;
      --gap: 18px;

      --font: "Cairo","Tajawal",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      line-height: 1.85;
    }

    .wrap{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 26px 18px 36px;
    }

    /* ===== Header (Card / Cover Block) ===== */
    .header-card{
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 28px 32px;
      margin-bottom: 16px;
      position: relative;
      overflow: hidden;
    }
    .header-card:before{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(135deg, rgba(15,42,68,.06), rgba(58,95,138,.04));
      pointer-events:none;
    }
    .header-inner{ position:relative; }

    #appTitle{
      margin:0;
      font-size: 30px;
      font-weight: 800;
      color: var(--primary);
      letter-spacing: .2px;
      text-align:center;
    }
    #appSubtitle{
      margin: 8px 0 0;
      font-size: 15px;
      color: var(--muted);
      text-align:center;
    }
    .header-divider{
      margin: 18px auto 0;
      height: 1px;
      width: min(720px, 92%);
      background: var(--border);
    }

    /* ===== Tabs ===== */
    .tabs{
      margin-top: 16px;
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      justify-content: center;
    }
    .tab-btn{
      border: 1px solid var(--border);
      background: #fff;
      color: var(--primary);
      padding: 9px 14px;
      border-radius: 999px;
      cursor: pointer;
      font: inherit;
      font-size: 13px;
      transition: background .15s ease, border-color .15s ease;
    }
    .tab-btn:hover{
      background: rgba(15,42,68,.04);
      border-color: rgba(15,42,68,.20);
    }
    .tab-btn[aria-selected="true"]{
      background: rgba(15,42,68,.08);
      border-color: rgba(15,42,68,.30);
      font-weight: 800;
    }

    /* ===== Layout (Sidebar + Content) ===== */
    .layout{
      display:grid;
      grid-template-columns: 300px 1fr; /* sidebar on the right (RTL) */
      gap: var(--gap);
      align-items:start;
      margin-top: 14px;
    }

    /* ===== Sidebar ===== */
    aside{
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      padding: 14px;
      position: sticky;
      top: 14px;
    }

    .side-head{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 12px;
    }
    .side-title{
      margin:0;
      font-size: 13px;
      font-weight: 900;
      color: var(--primary);
    }

    .side-actions{
      display:flex;
      gap: 10px;
      margin-bottom: 12px;
    }
    .btn{
      width: 100%;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--primary);
      font: inherit;
      font-size: 13px;
      cursor: pointer;
      transition: background .15s ease, border-color .15s ease;
    }
    .btn:hover{
      background: rgba(15,42,68,.04);
      border-color: rgba(15,42,68,.20);
    }

    #sidebarTOC{
      list-style:none;
      margin:0;
      padding:0;
      display:flex;
      flex-direction: column;
      gap: 8px;
    }
    #sidebarTOC a{
      display:block;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--text);
      text-decoration:none;
      font-size: 13px;
      transition: background .15s ease, border-color .15s ease;
    }
    #sidebarTOC a:hover{
      background: rgba(15,42,68,.04);
      border-color: rgba(15,42,68,.20);
    }

    #sidebarTOC a[aria-current="page"]{
      background: rgba(15,42,68,.08);
      border-color: rgba(15,42,68,.30);
      font-weight: 800;
    }
    .side-note{
      margin-top: 10px;
      font-size: 12px;
      color: var(--muted);
    }

    /* ===== Content Cards ===== */
    main{ min-width: 0; }

    .card{
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      padding: 22px 22px 18px;
      margin-bottom: 14px;
    }
    .card h2{
      margin: 0 0 10px;
      font-size: 20px;
      font-weight: 900;
      color: var(--secondary);
    }
    .card p{ margin: 10px 0; }

    .badges{ display:flex; flex-wrap:wrap; gap: 8px; margin: 10px 0 8px; }
    .badge{
      font-size: 12px;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(15,42,68,.03);
      color: var(--primary);
      font-weight: 700;
    }

    /* ===== Inline Callouts (place where needed) ===== */
    .callout{
      margin: 14px 0;
      padding: 14px 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #fff;
    }
    .callout .label{
      font-weight: 900;
      font-size: 13px;
      margin-bottom: 8px;
    }
    .callout ul{ margin:0; padding-right: 18px; }

    .callout-danger{
      background: rgba(178,58,58,0.08);
      border-color: rgba(178,58,58,0.25);
      border-right: 4px solid var(--alert);
    }
    .callout-danger .label{ color: #7A1F1F; }

    .callout-success{
      background: rgba(47,125,90,0.08);
      border-color: rgba(47,125,90,0.25);
      border-right: 4px solid var(--success);
    }
    .callout-success .label{ color: #1F5B43; }

    .callout-info{
      background: rgba(58,95,138,0.08);
      border-color: rgba(58,95,138,0.22);
      border-right: 4px solid var(--secondary);
    }
    .callout-info .label{ color: var(--primary); }

    /* ===== Steps ===== */
    .steps-title{
      margin: 16px 0 8px;
      font-weight: 900;
      color: var(--primary);
    }
    .steps{
      margin: 0;
      padding-right: 22px;
    }
    .steps li{ margin: 6px 0; }

    /* ===== Tables ===== */
    table{
      width: 100%;
      border-collapse: collapse;
      margin: 12px 0;
      font-size: 13px;
    }
    th,td{
      border: 1px solid var(--border);
      padding: 10px 10px;
      vertical-align: top;
    }
    th{
      background: rgba(15,42,68,.03);
      font-weight: 900;
      color: var(--primary);
    }

    /* ===== Infographic (LAST inside unit) ===== */
    .infographic{
      margin-top: 16px;
      padding-top: 12px;
      border-top: 1px dashed var(--border);
      color: var(--muted);
      font-size: 13px;
    }
    .infographic .cap{
      font-weight: 900;
      margin-bottom: 8px;
      color: var(--muted);
    }
    .infographic img{
      width: 100%;
      height: auto;
      border-radius: 12px;
      border: 1px solid var(--border);
      display:block;
      background: #fff;
    }
    .infographic .hint{ margin-top: 8px; }

    /* ===== Signature Authority Block (in place / end) ===== */
    .signature-card{
      background: var(--surface);
      border: 1px solid var(--border);
      border-top: 4px solid var(--primary);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      padding: 22px 18px;
      text-align: center;
      margin-top: 18px;
    }
    .signature-card .label{
      font-size: 13px;
      color: var(--muted);
      font-weight: 900;
      margin-bottom: 6px;
    }
    .signature-card .name{
      font-size: 20px;
      font-weight: 900;
      color: var(--primary);
      margin: 0 0 2px;
    }
    .signature-card .contact{
      font-size: 15px;
      margin: 0;
      color: var(--text);
    }

    /* ===== Responsive ===== */
    @media (max-width: 980px){
      .layout{ grid-template-columns: 1fr; }
      aside{ position: static; }
      .header-card{ padding: 22px 18px; }
      #appTitle{ font-size: 24px; }
    }

    /* ===== Print ===== */
    @media print{
      body{ background:#fff !important; color:#000 !important; }
      .wrap{ max-width: none; padding: 0; }
      .layout{ grid-template-columns: 1fr; gap: 0; margin-top: 10px; }
      aside{ display:none !important; }          /* Sidebar hidden */
      .tabs{ display:none !important; }          /* Tabs hidden */
      .header-card{ box-shadow:none !important; }
      .card,.signature-card{
        box-shadow:none !important;
        break-inside: avoid;
        page-break-inside: avoid;
      }
      table{
        break-inside: avoid;
        page-break-inside: avoid;
      }
      h2, .steps-title{
        break-after: avoid;
        page-break-after: avoid;
      }
      @page{ size: A4; margin: 14mm; }
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- HEADER (Anchors for Injection) -->
    <section class="header-card" aria-label="header">
      <div class="header-inner">
        <h1 id="appTitle">ุนููุงู ุงููุญุชูู ุงูุชุฏุฑูุจู</h1>
        <p id="appSubtitle"></p>
        <div class="header-divider"></div>
      </div>
    </section>

    <!-- LAYOUT -->
    <section class="layout">

      <!-- SIDEBAR -->
      <aside aria-label="sidebar">
        <div class="side-head">
          <p class="side-title">ุงููุญุฏุงุช</p>
        </div>

        <div class="side-actions">
          <button class="btn" id="printBtn" type="button">ุทุจุงุนุฉ PDF</button>
        </div>

        <ul id="sidebarTOC" aria-label="table of contents"></ul>

        <div class="side-note">* ุงูุดุฑูุท ุงูุฌุงูุจู ูุฒุฑ ุงูุทุจุงุนุฉ ูุฎุชููุงู ุชูุงููุง ุนูุฏ ุงูุทุจุงุนุฉ.</div>
      </aside>

      <!-- CONTENT -->
      <main aria-label="content">
        <div id="contentContainer"></div>
        <div id="infographicContainer"></div>

        

        <!-- SIGNATURE (Fixed place / end) -->
        <div class="signature-card" aria-label="signature">
          <div class="label">ุชู ุฅุนุฏุงุฏ ูุฐุง ุงููุญุชูู ุจูุงุณุทุฉ</div>
          <div class="name">ุฃูุณ ุงูุนุถูุจู</div>
          <p class="contact">0505530803</p>
        </div>
      </main>

    </section>
  </div>

  <script>
    /*****************************************************************
     * Template Data Contract v1.0 (Inline Edition)
     *
     * mode: "days" | "modules"   => Tabs labels only
     * tabs: [{ id, label, sections:[...] }]
     *
     * SECTION:
     * - id, title
     * - unitName: used for Infographic file: assets/<unitName>.png
     * - badges: ["Required", ...] (optional)
     * - steps: [ ... ] (optional)
     * - bodyHtml: (required) you place inline callouts anywhere here
     * - infographic: true/false (if true => appended LAST inside the unit)
     *
     * Inline callouts (use inside bodyHtml):
     *  - <div class="callout callout-danger">...</div>
     *  - <div class="callout callout-success">...</div>
     *****************************************************************/

    const TEMPLATE_DATA = {
  "mode": "modules",
  "title": "ูููุฌ ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงูุญุฏูุซุฉ CBP",
  "subtitle": "ุจููุงูุฉ ูุฐุง ุงููููุฌ ุณุชููู ูุงุฏุฑูุง ุนูู ููู ูุชุทุจูู ุฃุณุงุณูุงุช ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุนููููุง.",
  "tabs": [
    {
      "id": "u1",
      "label": "ุงููููุฌ",
      "sections": [
        {
          "id": "u1_main",
          "title": "ุงููุญุฏุงุช ูLearning Objectives",
          "unitName": "ุงููุญุฏุฉ_ุงูุฃููู",
          "badges": [],
          "steps": [],
          "bodyHtml": "<h3 class=\"steps-title\"></h3><div class=\"callout callout-info\"><div class=\"label\"><a href=\"#unit1\">ุงููุญุฏุฉ ุงูุฃููู: ูุธุงู ุงูุนูู ูุงููููู ุงููุถุงุฆู ุงูุนูุงูู</a></div><p><strong>Learning Objectives</strong></p><ul><li>ููู ุงูุฅุทุงุฑ ุงููุงูููู ุงูููุธู ููุนูุงูุฉ ุจูู ุงูุนุงูู ูุตุงุญุจ ุงูุนูู.</li><li>ุงูุชุนุฑู ุนูู ุงููููู ุงููุถุงุฆู ุงูุนูุงูู ูุงุฎุชุตุงุตุงุช ุฌูุงุชู.</li><li>ุฅุฏุฑุงู ุฃุซุฑ ุงูุงูุชุฒุงู ุจุงูุฃุญูุงู ูุงูุชูููุฐ ุนูู ุงูุณูุงูุฉ ุงููุธุงููุฉ ููููุดุฃุฉ.</li></ul></div><div class=\"callout callout-info\"><div class=\"label\"><a href=\"unit2.html\">ุงููุญุฏุฉ ุงูุซุงููุฉ: ุฅุฏุงุฑุฉ ุงูุชุนุงูุฏ ูุงููุฏุฏ ุงููุธุงููุฉ</a></div><p><strong>Learning Objectives</strong></p><ul><li>ุงูุชูููุฒ ุจูู ุฃููุงุน ุงูุนููุฏ ูุขุซุงุฑ ูู ููุน.</li><li>ููู ููุงุนุฏ ุงููุฏุฏ ูุงูุชุญููู ููุชุฑุฉ ุงูุชุฌุฑุจุฉ.</li><li>ุฅุฏุฑุงู ูุฎุงุทุฑ ุงูุดุฑูุท ุงูุชุนุงูุฏูุฉ ุงููุฎุงููุฉ ุฃู ุบูุฑ ุงููุชูุงุฒูุฉ.</li></ul></div><div class=\"callout callout-info\"><div class=\"label\"><a href=\"unit3.html\">ุงููุญุฏุฉ ุงูุซุงูุซุฉ: ุงูุฃุฌูุฑุ ุงูุงุณุชุญูุงูุงุชุ ูุญุณุงุจุงุช ููุงูุฉ ุงูุฎุฏูุฉ</a></div><p><strong>Learning Objectives</strong></p><ul><li>ุงูุชูููุฒ ุจูู ุงูุฃุฌุฑ ุงูุฃุณุงุณู ูุงูุฃุฌุฑ ุงููุนูู ูุขุซุงุฑ ูู ููููุง.</li><li>ููู ููุงุนุฏ ุงูุนูู ุงูุฅุถุงูู ูุงุญุชุณุงุจู.</li><li>ุชูุณูุฑ ููุทู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุญุณุจ ุงูุงุณุชูุงูุฉ/ุงูุฅููุงุก.</li></ul></div><div class=\"callout callout-info\"><div class=\"label\"><a href=\"unit4.html\">ุงููุญุฏุฉ ุงูุฑุงุจุนุฉ: ุงูุนูููุงุช ุงูุฑูููุฉ ูุงูููุตุงุช ุงูุญููููุฉ</a></div><p><strong>Learning Objectives</strong></p><ul><li>ููู ุฏูุฑ ุงูููุตุงุช ุงูุฑูููุฉ ูู ุถุจุท ุงูุนูุงูุฉ ุงูุนูุงููุฉ.</li><li>ุงูุฅููุงู ุจูุธุงุฆู ููู ููุฏุฏ ูุงูุชุฃูููุงุช.</li><li>ุฅุฏุฑุงู ุฃุซุฑ ุงูุฑุจุท ุงูุฅููุชุฑููู ุนูู ุงูุงูุชุซุงู ูุชูููู ุงููุฎุงุทุฑ.</li></ul></div><div class=\"callout callout-info\"><div class=\"label\"><a href=\"unit5.html\">ุงููุญุฏุฉ ุงูุฎุงูุณุฉ: ุงูุชูุธูู ุงูุฏุงุฎูู ูุงูุญูููุฉ ุงูุฅุฏุงุฑูุฉ</a></div><p><strong>Learning Objectives</strong></p><ul><li>ููู ุฃุซุฑ ุงูุชูุธูู ุงูุฏุงุฎูู ุนูู ุงูุงุณุชูุฑุงุฑ ูุชูููู ุงููุฒุงุนุงุช.</li><li>ุฅุฏุฑุงู ุฏูุฑ ุงูุญูููุฉ ูู ุชูููู ุงูุชุณุฑุจ ุงููุธููู.</li><li>ุฑุจุท ุงููููู ูุงููุตู ุงููุธููู ุจุงูุฃุฏุงุก ูุงููุณุงุกูุฉ.</li></ul></div><div class=\"callout callout-info\"><div class=\"label\"><a href=\"unit6.html\">ุงููุญุฏุฉ ุงูุณุงุฏุณุฉ: ุงูุงูุถุจุงุท ุงูุฅุฏุงุฑู ูุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ ุงูุนูุงููุฉ</a></div><p><strong>Learning Objectives</strong></p><ul><li>ููู ุงูุงูุถุจุงุท ุงูุฅุฏุงุฑู ูุฃุฏุงุฉ ููุงุฆูุฉ.</li><li>ุงูุฅููุงู ุจุฅุฌุฑุงุกุงุช ุงูุชุญููู ูุงูุฅุซุจุงุช.</li><li>ุงูุชูููุฒ ุจูู ุงููุตู ูุงูุฅููุงุก ูุงูุชุณููุฉ ูุขุซุงุฑูุง.</li></ul></div><div class=\"header-divider\"></div><h3 class=\"steps-title\" id=\"unit1\">ุงููุญุฏุฉ ุงูุฃููู: ูุธุงู ุงูุนูู ูุงููููู ุงููุถุงุฆู ุงูุนูุงูู</h3><div class=\"callout callout-info\">\n<div class=\"label\">Learning Objectives (Recap)</div>\n<ul>\n<li>ููู ุงูุฅุทุงุฑ ุงููุงูููู ุงูููุธู ููุนูุงูุฉ ุจูู ุงูุนุงูู ูุตุงุญุจ ุงูุนูู.</li>\n<li>ุงูุชุนุฑู ุนูู ุงููููู ุงููุถุงุฆู ุงูุนูุงูู ูุงุฎุชุตุงุตุงุช ุฌูุงุชู.</li>\n<li>ุฅุฏุฑุงู ุฃุซุฑ ุงูุงูุชุฒุงู ุจุงูุฃุญูุงู ูุงูุชูููุฐ ุนูู ุงูุณูุงูุฉ ุงููุธุงููุฉ ููููุดุฃุฉ.</li>\n</ul></div>\n<h3 class=\"steps-title\">Core Content</h3>\n<p>ูุดููู ูุธุงู ุงูุนูู ุงูุณุนูุฏู ุงููุฑุฌุนูุฉ ุงูุฃุณุงุณูุฉ ุงูุชู ุชุญูู ุงูุนูุงูุฉ ุงูุชุนุงูุฏูุฉ ุจูู ุงูุนุงูู ูุตุงุญุจ ุงูุนููุ ูููุจูู ุนููู ุชูุตูู ุงูุญููู ูุงููุงุฌุจุงุช ูุขููุงุช ุงููุตู ูู ุงููุฒุงุนุงุช. ูุง ุชูุชุตุฑ ุฃูููุฉ ุงููุธุงู ุนูู ุงููุตูุตุ ุจู ุชูุชุฏ ุฅูู ููููุฉ ุชุทุจูููุง ุฏุงุฎู ุงููุณุงุฑ ุงููุถุงุฆู ูุงูุชูููุฐู.</p>\n<p>ูุจุฏุฃ ุงููุณุงุฑ ุนุงุฏุฉ ุจูุญุงููุงุช ุงูุชุณููุฉ ุงููุฏูุฉุ ุซู ููุชูู ุฅูู ุงููุญุงูู ุงูุนูุงููุฉ ุงููุฎุชุตุฉ ุจุงููุตู ูู ุงููุฒุงุนุงุช. ุจุนุฏ ุตุฏูุฑ ุงูุญููุ ููุชูู ุงูููู ุฅูู ูุญููุฉ ุงูุชูููุฐ ุงูุชู ุชุชููู ุชูููุฐ ุงูุฃุญูุงู ุฌุจุฑููุง ูุชู ุงูุชุณุจุช ุงูุตูุฉ ุงูููุงุฆูุฉ.</p>\n<p>ุถูู ุงุฎุชุตุงุตุงุช ุงููุญุงูู ุงูุนูุงููุฉ ุงููุธุฑ ูู ุงููุทุงูุจุงุช ุงููุงููุฉ ูุงููุฒุงูุง ุงููุฑุชุจุทุฉ ุจุงูุนูุฏ. ุงููุงุถู ูุง ูุญูู ุจุงูุนุฑู ุฃู ุงูููุฉุ ุจู ุจูุง ูู ููุตูุต ุนููู.</p>\n<p>ุชูุนุจ ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ ุฏูุฑูุง ุฑูุงุจููุง ูู ุชูุซูู ุงูุนูุงูุฉ ุงููุธูููุฉ ูุฑุจุทูุง ุจุงูุงุดุชุฑุงูุงุช ููุคุดุฑุงุช ุงูุณุนูุฏุฉ. ุฃู ุฎูู ูู ุชุญุฏูุซ ุงูุจูุงูุงุช ูุฏ ูููุณููุฑ ููุฎุงููุฉ ุฌุณููุฉ.</p>\n<h3 class=\"steps-title\">ูุตุต ุชุทุจูููุฉ ูุชูุถูุญูุฉ</h3><div class=\"callout callout-info\"><div class=\"label\">ูุตุฉ ุชุทุจูููุฉ โ ูุญููุฉ ุงูุชูููุฐ ูุงูุฌุจุงูุฉ ุงูุฌุจุฑูุฉ</div><p><strong>ุงููุธุงู ุงูุฐู ุงุณุชูุฏุช ุนููู:</strong> ูุธุงู ุงูุชูููุฐ โ ุฅูุฒุงููุฉ ุงูุฃุญูุงู ุงููุถุงุฆูุฉ</p><p><strong>ุงููุตุฉ:</strong> ุตุฏุฑ ุญูู ูุถุงุฆู ููุงุฆู ุถุฏ ุดุฑูุฉ ุจุฏูุน 260,000 ุฑูุงู ูููุธู. ุชุฌุงููุช ุงูุดุฑูุฉ ุงูุชูููุฐุ ููุงูุช ูุญููุฉ ุงูุชูููุฐ ุจุชุฌููุฏ ุญุณุงุจุงุช ุงูุดุฑูุฉ ูุณุญุจ ุงููุจูุบ ุขูููุง ุฏูู ุฅุฐููุง.</p><p><strong>ูุงุฐุง ูุณุชููุฏ ูู ุงููุตุฉ:</strong> ุงูุงูุชุฒุงู ุจุงูุฃุญูุงู ุงููุถุงุฆูุฉ ูุงุฌุจุ ูุงูููุงุทูุฉ ุชุคุฏู ุฅูู ุชูููุฐ ุฌุจุฑู ุฏูู ุชุญูู.</p></div><div class=\"callout callout-info\"><div class=\"label\">ูุตุฉ ุชูุถูุญูุฉ โ ุชุฐุงูุฑ ุงูุณูุฑ ุงูุถุงุฆุนุฉ</div><p><strong>ุงููุธุงู ุงูุฐู ุงุณุชูุฏุช ุนููู:</strong> ูุธุงู ุงูุนูู โ ุงูุงูุชุฒุงูุงุช ุงูุชุนุงูุฏูุฉ</p><p><strong>ุงููุตุฉ:</strong> ุทุงูุจ ููุธู ุจุชุฐุงูุฑ ุณูุฑ ุณูููุฉ ุฃูุงู ุงููุถุงุกุ ููู ุงููุงุถู ุฑูุถ ุงูุญูู ุจูุง ูุนุฏู ูุฑูุฏูุง ูู ุงูุนูุฏุ ููุฃู ุงููุธุงู ูุง ููุฒู ุจูุง ุฅูุง ุนูุฏ ุงูุงุณุชูุฏุงู ูููุงูุฉ ุงูุฎุฏูุฉ.</p><p><strong>ูุงุฐุง ูุณุชููุฏ ูู ุงููุตุฉ:</strong> ุงูุญููู ุงูุนูุงููุฉ ุชูุญุฏุฏ ุจุงูุนูุฏ ูุงููุธุงู ูุง ุจุงูุนูุฑู.</p></div><div class=\"callout callout-info\"><div class=\"label\">ูุตุฉ ุชุญุฐูุฑูุฉ โ ูุณูุงู ุฅุณูุงุท ุงูุงุณู ูู ุงูุชุฃูููุงุช</div><p><strong>ุงููุธุงู ุงูุฐู ุงุณุชูุฏุช ุนููู:</strong> ูุธุงู ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ</p><p><strong>ุงููุตุฉ:</strong> ููุงุทู ุนูู ูู ุดุฑูุฉ ุซู ุณุงูุฑ ููุชุฌุงุฑุฉ ููุฏุฉ ุณูุฉุ ูุนูุฏ ุนูุฏุชู ูุฌุฏ ุงุณูู ูุณุฌููุง ูู ุงูุชุฃูููุงุช ูุงูุดุฑูุฉ ุชุณุชููุฏ ูู ูุณุจ ุงูุณุนูุฏุฉุ ูุบุฑูุช ุงูุชุฃูููุงุช ุงูุดุฑูุฉ 20,000 ุฑูุงู ูุฃูุบุช ุงููุฏุฉ ูู ุณุฌูู.</p><p><strong>ูุงุฐุง ูุณุชููุฏ ูู ุงููุตุฉ:</strong> ุชุญุฏูุซ ุจูุงูุงุช ุงูููุธููู ุงูุชุฒุงู ูุธุงูู ูููุน ุงูุบุฑุงูุงุช.</p></div><div class=\"callout callout-danger\">\n<div class=\"label\">ุชูุจูู โ ูุนูููุงุช ูุฌุจ ุงูุงูุชุจุงู ููุง</div>\n<ul>\n<li>ุงูุชุฃุฎูุฑ ูู ุชูููุฐ ุงูุฃุญูุงู ุฃู ุฅููุงู ุชุญุฏูุซ ุงูุจูุงูุงุช ุงููุธุงููุฉ ูุฎุงุทุฑุฉ ูุงููููุฉ ูุจุงุดุฑุฉ.</li>\n</ul></div>\n<div class=\"callout callout-success\">\n<div class=\"label\">ุชุฑููุฒ โ ููุงุท ูุฌุจ ุงูุชุฑููุฒ ุนูููุง</div>\n<ul>\n<li>ุชูุซูู ุฌููุน ุงูุญููู ูุงูุงูุชุฒุงูุงุช ุฏุงุฎู ุงูุนูุฏ.</li>\n<li>ุงูุงูุชุฒุงู ุงูููุฑู ุจุชูููุฐ ุงูุฃุญูุงู ุงููุถุงุฆูุฉ.</li>\n<li>ุชุญุฏูุซ ุจูุงูุงุช ุงูุนุงูููู ูุฏู ุงูุฌูุงุช ุงูุฑุณููุฉ ุฏูู ุชุฃุฎูุฑ.</li>\n</ul></div>\n<h3 class=\"steps-title\">Key Takeaways</h3>\n<ul>\n<li>ุงููุถุงุก ุงูุนูุงูู ูุญูู ุจุงููุต ูุง ุจุงูุนุฑู.</li>\n<li>ูุญููุฉ ุงูุชูููุฐ ูุง ุชูุจู ุงูุชุณููู.</li>\n<li>ุฃู ููุฒุฉ ุบูุฑ ููุชูุจุฉ ุบุงูุจูุง ุบูุฑ ูุญููุฉ.</li>\n<li>ุงูุฅููุงู ุงูุฅุฏุงุฑู ูู ุงูุชุฃูููุงุช ูุฏ ูุชุญูู ููุฎุงููุฉ.</li>\n</ul>",
          "infographic": true
        }
      ]
    }
  ]
};

    const elTitle = document.getElementById("appTitle");
    const elSubtitle = document.getElementById("appSubtitle");
    const elTOC = document.getElementById("sidebarTOC");
    const elContent = document.getElementById("contentContainer");
    const elInf = document.getElementById("infographicContainer");
    document.getElementById("printBtn").addEventListener("click", () => window.print());

    const sanitizeId = (id) => String(id).replace(/[^a-zA-Z0-9_-]/g, "_");

    function renderApp(data){
  elTitle.textContent = data.title || "";
  elSubtitle.textContent = data.subtitle || "";
  elSubtitle.style.display = (data.subtitle ? "block" : "none");
  if (!data.subtitle) { elSubtitle.style.display = "none"; } else { elSubtitle.style.display = "block"; }
  if (!elSubtitle.textContent.trim()) { elSubtitle.style.display = "none"; }
  const tab = (data.tabs || [])[0];
  if (tab){
    renderContent(tab);
  }
  renderTOC();
}

    function renderTOC(){
  elTOC.innerHTML = '<li><a href="index.html" aria-current="page">ุงููุญุฏุฉ ุงูุฃููู: ูุธุงู ุงูุนูู ูุงููููู ุงููุถุงุฆู ุงูุนูุงูู</a></li><li><a href="unit2.html" >ุงููุญุฏุฉ ุงูุซุงููุฉ: ุฅุฏุงุฑุฉ ุงูุชุนุงูุฏ ูุงููุฏุฏ ุงููุธุงููุฉ</a></li><li><a href="unit3.html" >ุงููุญุฏุฉ ุงูุซุงูุซุฉ: ุงูุฃุฌูุฑุ ุงูุงุณุชุญูุงูุงุชุ ูุญุณุงุจุงุช ููุงูุฉ ุงูุฎุฏูุฉ</a></li><li><a href="unit4.html" >ุงููุญุฏุฉ ุงูุฑุงุจุนุฉ: ุงูุนูููุงุช ุงูุฑูููุฉ ูุงูููุตุงุช ุงูุญููููุฉ</a></li><li><a href="unit5.html" >ุงููุญุฏุฉ ุงูุฎุงูุณุฉ: ุงูุชูุธูู ุงูุฏุงุฎูู ูุงูุญูููุฉ ุงูุฅุฏุงุฑูุฉ</a></li><li><a href="unit6.html" >ุงููุญุฏุฉ ุงูุณุงุฏุณุฉ: ุงูุงูุถุจุงุท ุงูุฅุฏุงุฑู ูุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ ุงูุนูุงููุฉ</a></li>';
}

    function makeBadges(badges){
      if (!badges || !badges.length) return null;
      const wrap = document.createElement("div");
      wrap.className = "badges";
      badges.forEach(txt => {
        const s = document.createElement("span");
        s.className = "badge";
        s.textContent = txt;
        wrap.appendChild(s);
      });
      return wrap;
    }

    function makeSteps(steps){
      if (!steps || !steps.length) return null;
      const title = document.createElement("div");
      title.className = "steps-title";
      title.textContent = "ุงูุชุณูุณู ุงููููุฌู";

      const ol = document.createElement("ol");
      ol.className = "steps";
      steps.forEach(s => {
        const li = document.createElement("li");
        li.textContent = s;
        ol.appendChild(li);
      });

      const wrap = document.createElement("div");
      wrap.appendChild(title);
      wrap.appendChild(ol);
      return wrap;
    }

    function makeInfographic(unitName){
      const box = document.createElement("div");
      box.className = "infographic";

      const cap = document.createElement("div");
      cap.className = "cap";
      cap.textContent = "๐ ุงูุฅูููุฌุฑุงููู (Infographic)";

      const img = document.createElement("img");
      img.alt = "Infographic โ " + unitName;
      img.src = "assets/" + unitName + ".png";

      const hint = document.createElement("div");
      hint.className = "hint";
      hint.textContent = "ุงูููู ุงููุทููุจ: assets/" + unitName + ".png";

      img.addEventListener("error", () => {
        img.style.display = "none";
        hint.textContent = "ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุตูุฑุฉ: assets/" + unitName + ".png";
      });

      box.appendChild(cap);
      box.appendChild(img);
      box.appendChild(hint);
      return box;
    }

    function renderContent(tab){
      elContent.innerHTML = "";
      (tab.sections || []).forEach(sec => {
        const card = document.createElement("section");
        card.className = "card";
        card.id = sanitizeId(sec.id);

        const h2 = document.createElement("h2");
        h2.textContent = sec.title;
        card.appendChild(h2);

        const badges = makeBadges(sec.badges);
        if (badges) card.appendChild(badges);

        // bodyHtml (Inline callouts live here)
        const body = document.createElement("div");
        body.innerHTML = sec.bodyHtml || "";
        card.appendChild(body);

        // steps (optional)
        const steps = makeSteps(sec.steps);
        if (steps) card.appendChild(steps);

        elContent.appendChild(card);
      });

      // Infographic section (fixed: before signature)
      const first = (tab.sections || [])[0] || {};
      const unit = first.unitName || sanitizeId(first.id || tab.id || 'unit');
      elInf.innerHTML = '';
      const infCard = document.createElement('section');
      infCard.className = 'card';
      infCard.appendChild(makeInfographic(unit));
      elInf.appendChild(infCard);

    }


    renderApp(TEMPLATE_DATA);
  </script>
</body>
</html>
